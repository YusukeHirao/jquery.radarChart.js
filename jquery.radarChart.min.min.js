// Generated by CoffeeScript 1.6.2
/*
* jquery.radarChart.js
* Author: Yusuke Hirao [http://www.yusukehirao.com]
* Version: 0.1.2.0
* Github: https://github.com/YusukeHirao/jquery.radarChart.js
* Licensed under the MIT License
* Require: jQuery v@1.9.1
*/(function(){"use strict";var e,t,n,r;r=this,e=r.jQuery,n=function(e){var t,n,r;n=[];for(t in e)r=e[t],n.push(""+t+": "+r);return n.join("\n")},t=function(){function e(e,t,n,r,i){this.ctx=e,this.sides=t!=null?t:3,this.radius=n!=null?n:100,this.x=r!=null?r:0,this.y=i!=null?i:0,this.interiorAngle=Math.PI*2/this.sides}return e.prototype.ctx=null,e.prototype.sides=3,e.prototype.interiorAngle=0,e.prototype.x=0,e.prototype.y=0,e.prototype.radius=100,e.prototype.rotate=270,e.prototype.strokeStyle="#000",e.prototype.lineWidth=1,e.prototype.fillStyle="none",e.prototype.peint=function(){var e,t,n,r,i,s;n=this.ctx,n.beginPath(),t=this.getApexes();for(r=i=0,s=t.length;i<s;r=++i)e=t[r],r===0?n.moveTo(e[0],e[1]):n.lineTo(e[0],e[1]);return n.closePath(),this.fillStyle&&this.fillStyle!=="none"&&(n.fillStyle=this.fillStyle,n.fill()),this.strokeStyle&&this.strokeStyle!=="none"&&(n.strokeStyle=this.strokeStyle,n.stroke()),this},e.prototype.radiate=function(){var e,t,n,r,i,s;n=this.ctx,t=this.getApexes(),r=!1,this.strokeStyle&&this.strokeStyle!=="none"&&(r=!0),r&&(n.strokeStyle=this.strokeStyle);for(i=0,s=t.length;i<s;i++)e=t[i],n.beginPath(),n.moveTo(this.x,this.y),n.lineTo(e[0],e[1]),n.closePath(),r&&n.stroke();return this},e.prototype.getApexes=function(){var e,t,n,r;e=[];for(t=n=0,r=this.sides;0<=r?n<=r:n>=r;t=0<=r?++n:--n)e.push(this.getApex(t));return e},e.prototype.getApex=function(e){var t,n,r,i;return t=this.rotate*Math.PI/180,n=t+this.interiorAngle*e,r=this.x+Math.cos(n)*this.radius,i=this.y+Math.sin(n)*this.radius,[r,i]},e.prototype.fill=function(e){return this.fillStyle=e,this.ctx.fillStyle=this.fillStyle,this},e.prototype.stroke=function(e,t){var n;return this.strokeStyle=e,t==null&&(t=this.lineWidth),n=this.ctx,n.lineWidth=t,n.strokeStyle=this.strokeStyle,this},e}(),e.fn.radarChart=function(n){var r,i;return r=e.extend({radius:null,plotLineColor:"red",plotLineWidth:3,plotBGColor:"rgba(255, 0, 0, 0.2)",gridLength:5,gridLineColor:"#ccc",gridLineWidth:1,gridBorderColor:null,gridBorderWidth:3,gridBGColor:"#fff",gridDivisionStep:1,fontColor:"#000",font:"bold 13px Arial",offsetX:0,offsetY:0,scale:1,data:function(){var t;return t=e(this).data("values")||"",t.split(",")}},n),(i=r.gridBorderColor)==null&&(r.gridBorderColor=r.gridLineColor),this.each(function(){var n,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k;if(this.nodeName.toLowerCase()!=="canvas")return;n=e(this),T=r.scale,x=r.radius*T||n.width()/2*T,E=r.plotLineWidth*T,m=r.gridLineWidth*T,v=r.gridBorderWidth*T,c=(r.font||"").replace(/\d+/i,function(e){return e*T}),y=r.offsetX*T,b=r.offsetY*T,a=r.data.call(this),f=a.length;if(f<3)return;u=this.getContext("2d"),s=x+y,o=x+b,l=x/r.gridLength,g=r.gridLength,u.font=c;while(g)d=new t(u,f,l*g,s,o),g===r.gridLength?(d.stroke(r.gridBorderColor,v).fill(r.gridBGColor).peint(),d.stroke(r.gridLineColor,m/2).radiate()):g%r.gridDivisionStep||d.stroke(r.gridLineColor,m).peint(),g-=1;u.beginPath();for(g=C=0,k=a.length;C<k;g=++C)N=a[g],N=parseFloat(e.trim(N)),S=l*N,w=new t(null,f,S,s,o),i=w.getApex(g),g===0?u.moveTo(i[0],i[1]):u.lineTo(i[0],i[1]);u.lineWidth=E,u.strokeStyle=r.plotLineColor,u.fillStyle=r.plotBGColor,u.closePath(),u.stroke(),u.fill(),g=r.gridLength+1,h=-11,p=8;while(g)g-=1,u.fillStyle=r.fontColor,u.strokeStyle=r.gridBGColor,u.fillText(""+g,s+h,o-l*g+p)})}}).call(this);